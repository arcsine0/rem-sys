/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2022 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

$(document).ready(()=>{var e,s=localStorage.getItem("id");function l(){$.ajax({url:"http://localhost:4000/user/profile/"+s,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!1},success:a=>{var e;a&&(e=`${a[0].fname} ${a[0].mname} ${a[0].lname}`,$("#nick").html(a[0].fname),$(".user-name").html(e),$(".user-email").html(a[0].email),$(".user-address").html(a[0].address),$(".user-contact").html(a[0].contact),$("#user-bio").html(a[0].bio),$("#fname").val(a[0].fname),$("#mname").val(a[0].mname),$("#lname").val(a[0].lname),$("#email").val(a[0].email),$("#contact").val(a[0].contact),$("#bio").val(a[0].bio),$("#old-pass").val(a[0].password))},error:a=>{console.log(a)}})}l(),$("#update_profile").on("click",()=>{var a=$("#account-settings").serializeArray();a.push({name:"id",value:s}),e=account,$.ajax({url:`http://localhost:4000/user/profile/update/${e}`,type:"POST",data:a,crossDomain:!0,xhrFields:{withCredentials:!1},success:a=>{a&&"success"==a&&(console.log("saved"),l())},error:a=>{console.log(a)}})}),$("#update_pass").on("click",()=>{var a=[{name:"id",value:s},{name:"password",value:$("#new-pass").val()}];e=security,$.ajax({url:`http://localhost:4000/user/profile/update/${e}`,type:"POST",data:a,crossDomain:!0,xhrFields:{withCredentials:!1},success:a=>{a&&"success"==a&&(console.log("saved"),l())},error:a=>{console.log(a)}})})});